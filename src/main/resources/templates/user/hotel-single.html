<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Travel-FPoly</title>
	<meta charset="utf-8">
	<link href="/user/images/bee.png" rel="icon">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link href="/user/images/bee.png" rel="icon">
	<link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Alex+Brush" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" />
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
	<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
	<script src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />
	<script src="/node_modules/swiper/swiper.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
	<link rel="stylesheet" href="/user/css/open-iconic-bootstrap.min.css">
	<link rel="stylesheet" href="/user/css/animate.css">
	<link rel="stylesheet" href="/user/css/magnific-popup.css">
	<link rel="stylesheet" href="/user/css/aos.css">
	<link rel="stylesheet" href="/user/css/ionicons.min.css">
	<link rel="stylesheet" href="/user/css/bootstrap-datepicker.css">
	<link rel="stylesheet" href="/user/css/jquery.timepicker.css">
	<link rel="stylesheet" href="/user/css/flaticon.css">
	<link rel="stylesheet" href="/user/css/icomoon.css">
	<link rel="stylesheet" href="/user/css/style.css">
	<link rel="stylesheet" href="/node_modules/swiper/swiper.min.css">
	<link rel="stylesheet" href="/user/css/tour-detail.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
		integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />
	<script
		nonce="6d052e1f-c170-4fc3-9b38-e3eeb83f439d">(function (w, d) { !function (dK, dL, dM, dN) { dK[dM] = dK[dM] || {}; dK[dM].executed = []; dK.zaraz = { deferred: [], listeners: [] }; dK.zaraz.q = []; dK.zaraz._f = function (dO) { return function () { var dP = Array.prototype.slice.call(arguments); dK.zaraz.q.push({ m: dO, a: dP }) } }; for (const dQ of ["track", "set", "debug"]) dK.zaraz[dQ] = dK.zaraz._f(dQ); dK.zaraz.init = () => { var dR = dL.getElementsByTagName(dN)[0], dS = dL.createElement(dN), dT = dL.getElementsByTagName("title")[0]; dT && (dK[dM].t = dL.getElementsByTagName("title")[0].text); dK[dM].x = Math.random(); dK[dM].w = dK.screen.width; dK[dM].h = dK.screen.height; dK[dM].j = dK.innerHeight; dK[dM].e = dK.innerWidth; dK[dM].l = dK.location.href; dK[dM].r = dL.referrer; dK[dM].k = dK.screen.colorDepth; dK[dM].n = dL.characterSet; dK[dM].o = (new Date).getTimezoneOffset(); if (dK.dataLayer) for (const dX of Object.entries(Object.entries(dataLayer).reduce(((dY, dZ) => ({ ...dY[1], ...dZ[1] })), {}))) zaraz.set(dX[0], dX[1], { scope: "page" }); dK[dM].q = []; for (; dK.zaraz.q.length;) { const d_ = dK.zaraz.q.shift(); dK[dM].q.push(d_) } dS.defer = !0; for (const ea of [localStorage, sessionStorage]) Object.keys(ea || {}).filter((ec => ec.startsWith("_zaraz_"))).forEach((eb => { try { dK[dM]["z_" + eb.slice(7)] = JSON.parse(ea.getItem(eb)) } catch { dK[dM]["z_" + eb.slice(7)] = ea.getItem(eb) } })); dS.referrerPolicy = "origin"; dS.src = "../../cdn-cgi/zaraz/sd0d9.js?z=" + btoa(encodeURIComponent(JSON.stringify(dK[dM]))); dR.parentNode.insertBefore(dS, dR) };["complete", "interactive"].includes(dL.readyState) ? zaraz.init() : dK.addEventListener("DOMContentLoaded", zaraz.init) }(w, d, "zarazData", "script"); })(window, document);</script>
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<style type="text/css">
		.form-select {
			border: 0;
			background-color: #97D9E1;
			background-image: linear-gradient(0deg, #97D9E1 0%, #D9AFD9 100%);
			color: inherit;
			box-shadow: none;
		}
	</style>
</head>

<body>
	<div th:insert="~{include/_loading.html}"></div>
	<div th:insert="~{include/_Nav}"></div>
	<section>
		<div id="slider-container"
			class="slider-container container-fluid m-0 p-0 row justify-content-lg-between p_header"
			style="background: url(''); background-size: cover; background-repeat: no-repeat;">
			<div class="col-12 col-lg-5 col-md-5 col-sm-12">

			</div>
			<div class="mt-5 col-12 col-lg-7 col-md-7 col-sm-12">
				<section id="tranding">
					<div class="container">
						<div class="swiper tranding-slider">
							<div class="swiper-wrapper">
								<!-- Slide-start -->
								<div th:each="img:${listImage}" class="swiper-slide tranding-slide">
									<div class="tranding-slide-img">
										<img th:src="${img}" alt="Tranding">
									</div>
									<div class="tranding-slide-content">
										<div class="tranding-slide-content-bottom">

										</div>
									</div>
								</div>
							</div>

							<div class="tranding-slider-control">
								<div class="swiper-button-prev slider-arrow">
									<ion-icon name="arrow-back-outline"></ion-icon>
								</div>
								<div class="swiper-button-next slider-arrow">
									<ion-icon name="arrow-forward-outline"></ion-icon>
								</div>
								<div class="swiper-pagination"></div>
							</div>

						</div>
					</div>
				</section>
			</div>
		</div>
		<script th:inline="javascript">

			var TrandingSlider = new Swiper('.tranding-slider', {
				effect: 'coverflow',
				grabCursor: true,
				centeredSlides: true,
				loop: false,
				slidesPerView: "auto",
				coverflowEffect: {
					rotate: 0,
					stretch: 0,
					depth: 100,
					modifier: 2.5,
				},
				pagination: {
					el: '.swiper-pagination',
					clickable: true,
				},
				navigation: {
					nextEl: '.swiper-button-next',
					prevEl: '.swiper-button-prev',
				}
			});
			function changeBackground(imageUrl) {
				var sliderContainer = document.getElementById('slider-container');
				sliderContainer.style.opacity = 0;
				setTimeout(function () {
					sliderContainer.style.backgroundImage = 'url(' + imageUrl + ')';
					sliderContainer.style.opacity = 1;
				}, 10);
			}
			document.querySelector('.swiper-button-next').addEventListener('click', function () {
				var activeSlide = TrandingSlider.slides[TrandingSlider.activeIndex];
				var imageUrl = activeSlide.querySelector('img').getAttribute('src');
				var sliderContainer = document.getElementById('slider-container');
				sliderContainer.style.backgroundImage = 'url(' + imageUrl + ')';
				changeBackground(imageUrl);

			});

			document.querySelector('.swiper-button-prev').addEventListener('click', function () {
				var activeSlide = TrandingSlider.slides[TrandingSlider.activeIndex];
				var imageUrl = activeSlide.querySelector('img').getAttribute('src');
				var sliderContainer = document.getElementById('slider-container');
				sliderContainer.style.backgroundImage = 'url(' + imageUrl + ')';
				changeBackground(imageUrl);

			});
			TrandingSlider.on('transitionEnd', function () {
				var activeSlide = TrandingSlider.slides[TrandingSlider.activeIndex];
				var imageUrl = activeSlide.querySelector('img').getAttribute('src');
				var sliderContainer = document.getElementById('slider-container');
				sliderContainer.style.backgroundImage = 'url(' + imageUrl + ')';
				changeBackground(imageUrl);

			});

		</script>
	</section>
	<section>
		<div class="container-fluid" th:object="${hotel}">
			<div class="row justify-content-between m-5 p-5">
				<div class="col-7 col-lg-7 col-sm-12 col-md-7 row title">

					<div class="col-12">
						<section class="mt-3 title">
							<div class="col-12">
								<label for=""
									style="font-size: 50px; font-family: Arial, Helvetica, sans-serif;">[[${hotel.Name}]]
								</label>
							</div>
							<label style="font-size: 20px; font-family: Arial, Helvetica, sans-serif;">
								Room image detail
							</label>
							<div th:object="${hotelImage}" class="m-0 p-0 row d-flex justify-content-between">
								<div class="col-md-4 col-sm-5 col-4 col-lg-4 gy-4">
									<div class="row">
										<div class="col-11 col-sm-12 col-lg-11 col-md-11"
											th:style="'background-image: url('+ ${hotelImage.Image1} +'); background-repeat: no-repeat; background-size: cover; height: 160px; border: 1px solid white; border-radius: 10%;'">
										</div>
									</div>
								</div>
								<div class="col-md-4 col-sm-5 col-4 col-lg-4 gy-4">
									<div class="row">
										<div class="col-11 col-sm-12 col-lg-11 col-md-11"
											th:style="'background-image: url('+ ${hotelImage.Image2} +'); background-repeat: no-repeat; background-size: cover; height: 160px; border: 1px solid white; border-radius: 10%;'">
										</div>
									</div>
								</div>
								<div class="col-md-4 col-sm-5 col-4 col-lg-4 gy-4">
									<div class="row">
										<div class="col-11 col-sm-12 col-lg-11 col-md-11"
											th:style="'background-image: url('+ ${hotelImage.Image3} +'); background-repeat: no-repeat; background-size: cover; height: 160px; border: 1px solid white; border-radius: 10%;'">
										</div>
									</div>
								</div>
								<div class="col-md-4 col-sm-5 col-4 col-lg-4 gy-4">
									<div class="row">
										<div class="col-11 col-sm-12 col-lg-11 col-md-11"
											th:style="'background-image: url('+ ${hotelImage.Image4} +'); background-repeat: no-repeat; background-size: cover; height: 160px; border: 1px solid white; border-radius: 10%;'">
										</div>
									</div>
								</div>
								<div class="col-md-4 col-sm-5 col-4 col-lg-4 gy-4">
									<div class="row">
										<div class="col-11 col-sm-12 col-lg-11 col-md-11"
											th:style="'background-image: url('+ ${hotelImage.Image5} +'); background-repeat: no-repeat; background-size: cover; height: 160px; border: 1px solid white; border-radius: 10%;'">
										</div>
									</div>
								</div>
								<div class="col-md-4 col-sm-5 col-4 col-lg-4 gy-4">
									<div class="row">
										<div class="col-11 col-sm-12 col-lg-11 col-md-11"
											th:style="'background-image: url('+ ${hotelImage.Image5} +'); background-repeat: no-repeat; background-size: cover; height: 160px; border: 1px solid white; border-radius: 10%;'">
										</div>
									</div>
								</div>
							</div>
						</section>
						<section style="padding-top: 20px;">
							<div>
								<div style=" font-size: 30px;">[[${hotel.Name}]]</div>
								<div
									style="display: grid; grid-template-columns: 1fr 1fr 1fr;   grid-column-gap: 20px;  grid-row-gap: 20px;">
									<div>
										<p>
											<i class="fa-solid fa-bed"></i> Double bed (X2)
										</p>
										<p>
											<i class="fa-solid fa-utensils"></i>
											no breakfast
										</p>
										<p style="color:green;">
											<i class="fa-solid fa-wifi"></i>have wifi
										</p>
										<p style="color: green;">
											<i class="fa-solid fa-ban-smoking"></i> No smoking
										</p>
									</div>
									<div>
										<p><i class="fa-solid fa-user-group"></i>2 client</p>

										<p style="color: slategray;">
											<i class="fa-regular fa-rectangle-xmark"></i>No refund
										</p>
										<p style="color: green;">
											<i class="fa-solid fa-rectangle-xmark"></i>Free check-out
										</p>
										<p style="color: green;">
											<i class="fa-regular fa-rectangle-xmark"></i>Can reschedule
										</p>

									</div>
									<div>
										<p style="color: red; font-size: 30px;">
											[[${hotel.price}]] $</p>
										<p> /Room/ night</p>

									</div>

								</div>
							</div>

						</section>

					</div>
				</div>

				<!-- Form booking -->
				<div class="col-5 col-lg-5 col-sm-6 col-md-5" style="z-index:0;">
					<div class="col-12">
						<div class="row">
							<div class="booking-form">
								<div class="form-header mb-3">
									<h3>Make your adventure</h3>
								</div>

								<div class="row mb-3">
									<div class="col-md-12 mb-3">
										<label class="title-input" for="fullname">Fullname</label>
										<input class="form-control" type="text" id="fullname" th:name="fullname"
											placeholder="Fullname">
									</div>
									<div class="col-md-12 mb-3">
										<label class="title-input" for="email">Email</label>
										<input class="form-control" id="email" type="email" placeholder="Email">
									</div>
									<div class="col-md-6 mb-3">
										<label class="title-input">Number Phone</label>
										<input class="form-control" id="phone" type="text" placeholder="Number Phone">
									</div>
									<div class="col-md-12 mb-3">
										<label class="title-input" for="checkin">Check In</label>
										<input class="form-control" type="date" id="checkin"
											placeholder="Booking checkOut">
									</div>

									<div class="col-md-12 mb-3">
										<label class="title-input" for="checkout">Check Out</label>
										<input class="form-control" type="date" id="checkout"
											placeholder="Booking CheckIn">
									</div>
									<div class="form-btn mt-2">
										<button onclick="goToPage2()"
											style="padding:10px 60px; background-color: rgb(203, 96, 57); border-radius: 10px;">
											Next
										</button>
									</div>
								</div>
								<script>
									function goToPage2() {
										if (validateForm()) {
											var id = `[[${hotel.HotelId}]]`;
											var fullname = document.getElementById("fullname").value;
											var email = document.getElementById("email").value;
											var phone = document.getElementById("phone").value;
											var checkin = document.getElementById("checkin").value;
											var checkout = document.getElementById("checkout").value;

											// Construct URL with query parameters
											var url = "/travelfpoly/hotel-detail/" + id + "/page2?fullname=" + fullname
												+ "&email=" + encodeURIComponent(email) + "&phone=" + encodeURIComponent(phone) + "&checkin=" + encodeURIComponent(checkin) + "&checkout=" + encodeURIComponent(checkout);
											window.location.href = url;
										}
									}
									function validateForm() {
										var fullnameRegex = /^[\p{L}\s]+$/u;

										var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

										var phoneRegex = /^\d{10}$/;

										// var dateRegexcheckin = /^\d{4}-\d{2}-\d{2}$/;
										// var dateRegexcheckout = /^\d{4}-\d{2}-\d{2}$/;



										var fullname = document.getElementById("fullname").value.trim();
										var email = document.getElementById("email").value.trim();
										var phone = document.getElementById("phone").value.trim();
										var checkin = document.getElementById("checkin").value.trim();
										var checkout = document.getElementById("checkout").value.trim();


										// Kiểm tra không để trống
										if (fullname === '') {
											alert('Full name cannot be left blank');
											return false;
										} else if (!fullnameRegex.test(fullname)) {
											alert('Full name is not valid');
											return false;
										} else if (email === '') {
											alert('email cannot be left blank');
											return false;
										} else if (!emailRegex.test(email)) {
											alert('email is not valid');
											return false;
										} else if (phone === '') {
											alert('Number Phone cannot be left blank');
											return false;
										} else if (!phoneRegex.test(phone)) {
											alert('Number Phone is not valid only ten');
											return false;
										} else if (checkin === '') {
											alert('CheckIn cannot be left blank');
											return false;
										} else if (checkout === '') {
											alert('Checkout cannot be left blank');
											return false;
										} else {
											var checkinDate = new Date(checkin);
											var checkoutDate = new Date(checkout);

											if (checkoutDate <= checkinDate) {
												alert('Checkout date must be greater than CheckIn date');
												return false;
											}

										}
										// Bạn có thể thêm kiểm tra regex cho email, checkin, checkout tương tự
										return true;
									}
								</script>
							</div>

						</div>
					</div>
					<hr class="new1">
					<div class="col-12">
						<div class="mt-5 title">
							<h3>REGIONAL INFORMATION</h3>

							<div id="map" class="w-100">
								<iframe
									src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d125418.05621372208!2d106.65328639999998!3d10.7872256!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1svi!2s!4v1691645572040!5m2!1svi!2s"
									width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy"
									referrerpolicy="no-referrer-when-downgrade">
								</iframe>
							</div>
						</div>
					</div>
				</div>

			</div>
	</section>
	<section>
		<div class="text-right">
			<a style="display: inline-block;" href="#reviews-anchor" id="open-review-box"
				class="btn btn-success btn-green">Leave a Review</a>
		</div>
		<div class="row" id="post-review-box" style="display: none;">
			<div class="col-md-12">
				<form:form method="post" modelAttribute="review" id="reviewForm">

					<form:hidden id="ratings-hidden" path="rating" />
					<form:hidden path="product.id" />
					<div class="col-xs-12 col-md-6">
						<form:input path="userName" class="form-control animated" placeholder="Name" />
					</div>
					<div class="col-xs-12 col-md-6">
						<form:input path="userEmail" id="userEmail" class="form-control animated" placeholder="Email" />
					</div>
					<div class="col-md-12" style="margin-top: 2rem;">
						<form:textarea path="comment"
							style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 54px;" rows="5"
							id="new-review" class="form-control animated" placeholder="Enter your review here..."
							name="comment" cols="50"></form:textarea>
					</div>
					<div class="text-right">
						<div class="stars starrr" data-rating="0"></div>
						<a href="#" class="btn btn-danger btn-sm" id="close-review-box"
							style="margin-right: 10px; display: none;"> <span
								class="glyphicon glyphicon-remove"></span>Cancel
						</a>
						<button class="btn btn-success btn-lg" type="submit">Save</button>
					</div>
				</form:form>
			</div>
		</div>
		<!--popup-->
		<div id="popup" class="popup-wrapper" style="display:none;">
			<div class="popup-content">
				<div class="popup-title">
					<button type="button" class="popup-close">×</button>
					<h3></h3>
				</div>
				<div class="popup-body">

					Popup body</div>
			</div>
		</div>

		<div th:insert="~{include/_Footer}"></div>



</body>




</html>